# 市場指數 Dashboard 協作紀錄

## 2025/12/11
- 建立 market.html 初版，規劃 header、aside、main、footer 語意結構。
- 導入 Bootstrap 5、Chart.js，設計主內容區塊與表格區塊雛型。

## 2025/12/12
- 實作多層 collapse 群組側邊欄，支援群組展開/收合，並設計 collapse 圖示（+/-）即時切換。
- 完成 collapse 群組結構正確性，確保每層 collapse 互不干擾。
- 加入 RWD 支援，大螢幕顯示靜態 aside，小螢幕顯示 offcanvas 側邊欄。
- header 新增「展開側邊欄」按鈕，並實作 Bootstrap offcanvas。
- 完成 collapse 圖示動畫同步，collapse aria-controls、aria-expanded、aria-label 初步設置。
- 測試 collapse 事件冒泡、動畫結束同步圖示，修正 collapse 圖示不同步問題。

## 2025/12/13
- 側邊欄內容資料結構化，股票/債券/匯市分群，主內容區塊可根據側邊欄點擊切換。
- 匯市群組加入，支援外幣兌台幣多幣別，並設計匯市 chart 雙線圖。
- 完成主內容區塊股票、債券、匯市三種表格切換，資料由 JS 動態產生，並設計表格漲跌幅圖示與顏色。
- offcanvas 側邊欄內容改由 JS 動態產生，避免重複 HTML，並以正則處理 id/href/aria-controls，確保 collapse 行為正確。
- collapse 圖示同步支援 offcanvas，並修正小螢幕 collapse 圖示不同步 bug。
- 完善 aria-controls、aria-expanded、aria-label 等無障礙屬性，討論 aria-labelledby 最佳化方案。
- 解釋 IIFE 語法，並於 JS 動態產生 offcanvas 側邊欄時採用 IIFE 避免全域汙染。
- 測試主內容切換、collapse 群組、offcanvas 行為、RWD、無障礙等細節。

## 2025/12/14
- 完成所有互動細節，collapse、offcanvas、主內容切換、圖表資料切換皆測試通過。
- 檢查語意結構、RWD、無障礙，確認無重大問題。
- 產出協作紀錄，並進行階段性結案。
- 討論未來可擴充方向（如 API 串接、資料結構化、UI/UX 微調、進階無障礙等）。

---

## 總結

本階段已完成市場指數 Dashboard 的所有核心功能與互動細節，包含多層群組側邊欄、collapse 圖示同步、RWD/offcanvas、主內容切換、股票/債券/匯市資料動態產生、無障礙最佳化等。程式結構清晰、維護性佳，UI/UX 及語意結構皆達到現代網頁標準。未來如需 API 串接、資料結構化、UI 微調或進階無障礙等擴充，可隨時再行規劃。
